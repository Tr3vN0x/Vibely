<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Adult TagCards - Casino Style</title>
<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap');
body {
  margin:0;
  font-family:'Orbitron', sans-serif;
  background: linear-gradient(to bottom, #0a0a0f, #1c1c2e);
  color: #fff;
}
header{
  display:flex; justify-content:space-between; align-items:center; padding:16px; background:#0f0f20;
  border-bottom:2px solid #ff3c5f; text-shadow:0 0 10px #ff3c5f;
}
button{
  padding:10px 16px; margin-top:6px; border-radius:12px; border:none; cursor:pointer;
  background:#ff3c5f; color:#fff; font-weight:bold; text-shadow:0 0 5px #ff3c5f;
  transition: all 0.3s;
}
button:hover{box-shadow:0 0 20px #ff3c5f; transform: scale(1.05);}
input{
  width:100%; padding:10px; margin-top:6px; border-radius:8px; border:1px solid #ccc;
}
.card{
  background: linear-gradient(145deg,#1e1e2f,#2a2a3f);
  border: 2px solid #ff3c5f; border-radius:16px; padding:20px; margin:16px auto;
  max-width:400px; box-shadow:0 0 20px rgba(255,60,95,0.5);
  transition: transform 0.3s, box-shadow 0.3s;
}
.card:hover{
  transform: scale(1.03); box-shadow:0 0 30px rgba(255,60,95,0.8);
}
.tag{
  display:inline-block; background:#ff3c5f; color:#fff; padding:6px 12px; border-radius:8px; margin:4px;
  font-weight:bold; text-shadow:0 0 5px #ff3c5f; transition: all 0.3s;
}
.tag:hover{transform:scale(1.1); text-shadow:0 0 10px #ff3c5f;}
#cardsContainer{display:flex; flex-wrap:wrap; gap:20px; margin:16px;}
.userCard{
  background: linear-gradient(135deg,#1e1e2f,#2a2a3f); border:2px solid #ff3c5f;
  border-radius:12px; padding:12px; width:180px; box-shadow:0 0 15px rgba(255,60,95,0.5);
  transition: transform 0.3s, box-shadow 0.3s;
}
.userCard:hover{transform:scale(1.05); box-shadow:0 0 25px rgba(255,60,95,0.8);}
.vipBadge{
  background: gold; color:#000; padding:2px 6px; border-radius:4px; font-weight:bold; font-size:12px;
  margin-left:4px; box-shadow:0 0 10px gold; animation: glow 1.5s infinite alternate;
}
@keyframes glow{0%{box-shadow:0 0 5px gold;}100%{box-shadow:0 0 20px gold;}}
</style>
</head>
<body>

<header>
<h1>Adult TagCards</h1>
<div id="userControls"><button onclick="showAuth()">Login/Register</button></div>
</header>

<!-- Login/Register -->
<div id="authDiv" class="card">
<h3>Login / Register</h3>
<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">
<input id="age" placeholder="Age (must be 18+)" type="number">
<button onclick="register()">Register</button>
<button onclick="login()">Login</button>
<p id="authError" style="color:red"></p>
</div>

<!-- Profile Card -->
<div id="profileDiv" class="card" style="display:none">
<h3>My Profile Card</h3>
<input id="username" placeholder="Your Name">
<input id="avatar" placeholder="Avatar URL">
<input id="newTag" placeholder="Add a tag">
<button onclick="addTag()">Add Tag</button>
<div id="tagsContainer"></div>
<label><input type="checkbox" id="vipCheckbox"> VIP Badge (Premium)</label>
<button onclick="saveProfile()">Save Profile</button>
<button onclick="showExplore()">Explore Users</button>
</div>

<!-- Explore Users -->
<div id="exploreDiv" style="display:none">
<h3 style="margin-left:16px">Explore Users</h3>
<div id="cardsContainer"></div>
<button onclick="showProfile()">Back to Profile</button>
</div>

<script>
// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyCDll8RH1kzGOf-ixJmSlHXGssOHSMlO3s",
  authDomain: "vibely-5128e.firebaseapp.com",
  projectId: "vibely-5128e",
  storageBucket: "vibely-5128e.firebasestorage.app",
  messagingSenderId: "1048550825812",
  appId: "1:1048550825812:web:fc5bbba51e065807ffb2c1"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

let myTags = [];

// Show/hide auth
function showAuth(){document.getElementById('authDiv').style.display='block'; document.getElementById('profileDiv').style.display='none'; document.getElementById('exploreDiv').style.display='none';}

// Auth
function register(){
  const email = document.getElementById('email').value;
  const password = document.getElementById('password').value;
  const age = parseInt(document.getElementById('age').value);
  if(age < 18){document.getElementById('authError').innerText='You must be 18+'; return;}
  auth.createUserWithEmailAndPassword(email,password)
    .then(userCred=>db.collection('users').doc(userCred.user.uid).set({age:age, vip:false}))
    .catch(e=>document.getElementById('authError').innerText=e.message);
}
function login(){
  const email = document.getElementById('email').value;
  const password = document.getElementById('password').value;
  auth.signInWithEmailAndPassword(email,password)
    .catch(e=>document.getElementById('authError').innerText=e.message);
}
function logout(){auth.signOut(); showAuth();}

// Profile
function addTag(){const t=document.getElementById('newTag').value.trim(); if(t&&!myTags.includes(t)){myTags.push(t); renderTags(); document.getElementById('newTag').value='';}}
function renderTags(){const c=document.getElementById('tagsContainer'); c.innerHTML=''; myTags.forEach(t=>{const s=document.createElement('span'); s.className='tag'; s.innerText=t; c.appendChild(s);});}
function saveProfile(){const user=auth.currentUser; if(!user) return; const name=document.getElementById('username').value; const avatar=document.getElementById('avatar').value; const vip=document.getElementById('vipCheckbox').checked; db.collection('users').doc(user.uid).set({name, avatar, tags:myTags, vip},{merge:true}); alert('Profile saved!'); showExplore();}
function showExplore(){document.getElementById('authDiv').style.display='none'; document.getElementById('profileDiv').style.display='none'; document.getElementById('exploreDiv').style.display='block'; loadUsers();}
function showProfile(){document.getElementById('profileDiv').style.display='block'; document.getElementById('exploreDiv').style.display='none';}

// Explore
function loadUsers(){
  db.collection('users').onSnapshot(snapshot=>{
    const c=document.getElementById('cardsContainer'); c.innerHTML='';
    snapshot.forEach(doc=>{
      const u=doc.data();
      const card=document.createElement('div'); card.className='userCard';
      card.innerHTML=`<div style="text-align:center"><img src="${u.avatar||'https://via.placeholder.com/80'}" width="80" height="80" style="border-radius:50%"><h4>${u.name||'Anonymous'}${u.vip?'<span class="vipBadge">VIP</span>':''}</h4></div><div>${(u.tags||[]).map(t=>`<span class="tag">${t}</span>`).join('')}</div>`;
      c.appendChild(card);
    });
  });
}

// Auth listener
auth.onAuthStateChanged(user=>{
  if(user){
    document.getElementById('authDiv').style.display='none';
    document.getElementById('profileDiv').style.display='block';
    document.getElementById('userControls').innerHTML=`<span>Hello, ${user.email}</span> <button onclick="logout()">Logout</button>`;
    db.collection('users').doc(user.uid).get().then(doc=>{if(doc.exists){const d=doc.data(); document.getElementById('username').value=d.name||''; document.getElementById('avatar').value=d.avatar||''; document.getElementById('vipCheckbox').checked=d.vip||false; myTags=d.tags||[]; renderTags();}});
  } else {showAuth();}
});
</script>

</body>
</html>
